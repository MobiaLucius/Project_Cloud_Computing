
@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<body>
    <h1>Login</h1>
    <h2>
        <input id="username" type="text" autocomplete="off" value="" placeholder="username..." />
    </h2>
    <h3>
        <input id="password" type="password" autocomplete="off" value="" placeholder="password..." />
    </h3>
    <h4>
        <button onclick="login()" class="btn btn-outline-primary">Login</button>
    </h4>
</body>

<script>
    let _listUsers = @Html.Raw(ViewBag.ListUser);
    
    function login() {
        var _userName = $("#username").val();
        var _passWord = $("#password").val();

        for (var i = 0; i < _listUsers.length; i++) {
            if (_userName == _listUsers[i].Username) {
                if (_passWord == _listUsers[i].Password) {
                    localStorage.setItem("username", _userName);
                    window.location.href = "/trang-chu";
                    break;

                } else {
                    alert("Login failed *");
                }
            } else {
                if (i == _listUsers.length - 1) {
                    alert("Login failed");
                } 
            }  
        }
    }
</script>
